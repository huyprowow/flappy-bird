{"version":3,"sources":["component/GameDisplay.js","image/bird.png","component/Bird.js","image/pipe-top.png","image/pipe-bottom.png","component/Pipe.js","image/fg.png","component/Foreground.js","image/bg.png","reducers/game.js","reducers/bird.js","reducers/pipe.js","reducers/index.js","store.js","component/App.js","index.js"],"names":["gameLoop","createPipe","deletePipe","Bird","this","props","y","numDeg","id","style","position","left","width","height","transition","top","backgroundImage","birdImg","transform","React","Component","connect","bird","Pipe","x","pipes","map","i","topHeight","topPipeImg","backgroundPosition","bottomPipeImg","pipe","styleForeground","bottom","fgImg","Foreground","game","state","action","type","status","console","log","initialState","length","Math","floor","random","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","styleGameDisplay","margin","overflow","bgImg","border","borderRadius","GameDisplay","componentDidMount","clearInterval","document","addEventListener","handleKey","componentDidUpdate","componentWillUnmount","removeEventListener","e","fly","start","key","dispatch","setInterval","getState","birdY","challenges","x1","y1","x2","y2","filter","over","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7b88b575.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Bird from \"./Bird\";\r\nimport Pipe from \"./Pipe\";\r\nimport Foreground from \"./Foreground\";\r\nimport bgImg from \"../image/bg.png\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../store\";\r\nconst styleGameDisplay = {\r\n  position: \"relative\",\r\n  width: 288,\r\n  height: 512,\r\n  margin: \"0 auto\",\r\n  overflow: \"hidden\",\r\n  backgroundImage: `url(${bgImg})`,\r\n  border: \"2px solid\",\r\n  borderRadius: \"5px\",\r\n};\r\n\r\nlet gameLoop;\r\nlet createPipe;\r\nlet deletePipe;\r\nclass GameDisplay extends React.Component {\r\n  componentDidMount = () => {\r\n    //== reactHook useEffect\r\n    if (this.props.status === \"over\") {\r\n      clearInterval(gameLoop);\r\n      clearInterval(createPipe);\r\n      clearInterval(deletePipe);\r\n    }\r\n    document.addEventListener(\"keypress\", this.handleKey);\r\n  };\r\n  componentDidUpdate = () => {\r\n    //== reactHook useEffect\r\n    if (this.props.status === \"over\") {\r\n      clearInterval(gameLoop);\r\n      clearInterval(createPipe);\r\n      clearInterval(deletePipe);\r\n    }\r\n    document.addEventListener(\"keypress\", this.handleKey);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    //== reactHook useEffect\r\n    document.removeEventListener(\"keypress\", this.handleKey);\r\n  };\r\n  handleKey = (e) => {\r\n    const { status, fly, start } = this.props;\r\n    // console.log(status);\r\n    if (e.key === \" \") {\r\n      //nhan nut space\r\n      fly(); //nhan tu mapDispatchToProps, goi de gui hanh dong\r\n      if (status !== \"playing\") {\r\n        start(); //nhan tu mapDispatchToProps, goi de gui hanh dong\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"game-display\" style={styleGameDisplay}>\r\n        <Bird />\r\n        <Pipe />\r\n        <Foreground />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst over = (dispatch) => {\r\n  console.log(store.getState());\r\n\r\n  const state = store.getState();\r\n  console.log(state);\r\n\r\n  const birdY = state.bird.y;\r\n  const pipes = state.pipe.pipes;\r\n  const x = state.pipe.x;\r\n\r\n  const challenges = pipes\r\n    .map(({ topHeight }, i) => {\r\n      return {\r\n        x1: x + i * 200,\r\n        y1: topHeight,\r\n        x2: x + i * 200,\r\n        y2: topHeight + 100,\r\n      };\r\n    })\r\n    .filter(({ x1 }) => (x1 > 0 && x < 288 ? true : false));\r\n  //chi lay toa do diem tren mh\r\n\r\n  //toa do mat dat\r\n  if (birdY > 512 - 106 - 13) {\r\n    dispatch({ type: \"OVER\" });\r\n  }\r\n  if (challenges.length) {\r\n    const { x1, y1, x2, y2 } = challenges[0]; //toan do cot truoc mat con chim\r\n\r\n    console.log(birdY);\r\n    if (\r\n      (x1 < 120 + 37 && 120 < x1 + 52 && birdY < y1 + 13) || //dung cot tren\r\n      (x2 < 120 + 37 && 120 < x1 + 52 && birdY > y2 - 13) //dung cot duoi\r\n    ) {\r\n      dispatch({ type: \"OVER\" });\r\n    }\r\n  }\r\n};\r\nconst mapStateToProps = ({ game }) => ({ status: game.status });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    start: () => {\r\n      dispatch({ type: \"START\" });\r\n      //props nhu 1 ham gui di hanh dong start\r\n      gameLoop = setInterval(() => {\r\n        //200 milis roi xuong 1 lan\r\n        dispatch({ type: \"FALL\" }); // gui hanh dong fall de chim roi xuong\r\n        dispatch({ type: \"RUN\" }); //gui hanh dong de pipe(ong) di chuyen\r\n      }, 200);\r\n      setInterval(() => {\r\n        over(dispatch);\r\n      }, 200);\r\n      // setTimeout(() => {\r\n\r\n      createPipe = setInterval(() => {\r\n        dispatch({ type: \"CREATE\" });\r\n      }, 3000); //gui hanh dong de tao pipe(ong)\r\n      // },9000)\r\n      // setTimeout(() => {\r\n\r\n      deletePipe = setInterval(() => {\r\n        dispatch({ type: \"DELETE\" });\r\n      }, 12000); //gui hanh dong de xoa bot pipe(ong) optimine nhung eo awn thua lam\r\n      // },9000)\r\n    },\r\n    fly: () => {\r\n      dispatch({ type: \"FLY\" });\r\n    },\r\n  };\r\n};\r\n\r\n//connect voi redux de lay state va gui action thay doi state\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GameDisplay);\r\n","export default __webpack_public_path__ + \"static/media/bird.71e31e9e.png\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport birdImg from \"../image/bird.png\";\r\n// const styleBird = {\r\n\r\n// };\r\nclass Bird extends React.Component {\r\n  render() {\r\n    // console.log(this.props.y);\r\n    // console.log(this.props.numDeg);\r\n    const { y, numDeg } = this.props;\r\n    return (\r\n      <div\r\n        id=\"bird\"\r\n        style={{\r\n          position: \"absolute\",\r\n          left: 120,\r\n          width: 37,\r\n          height: 26,\r\n          transition: \"transform 120ms,top 400ms\",\r\n          top: y,\r\n          backgroundImage: `url(${birdImg})`,\r\n          transform: `rotate(${numDeg}deg)`,\r\n          //de chin huong mat len khi bay (an space)\r\n        }}\r\n      ></div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = ({ bird }) => ({ y: bird.y, numDeg: bird.numDeg });\r\nconst mapDispatchToProps = () => ({});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Bird);\r\n","export default __webpack_public_path__ + \"static/media/pipe-top.3e4cf42d.png\";","export default __webpack_public_path__ + \"static/media/pipe-bottom.d354aa87.png\";","import React from \"react\";\r\nimport topPipeImg from \"../image/pipe-top.png\";\r\nimport bottomPipeImg from \"../image/pipe-bottom.png\";\r\nimport { connect } from \"react-redux\";\r\nclass Pipe extends React.Component {\r\n  render() {\r\n    const { x, pipes } = this.props;\r\n    // console.log(pipes);\r\n    return (\r\n      <div style={{ position: \"relative\" }}>\r\n        {pipes.map(({ topHeight }, i) => {\r\n          return (\r\n            <div key={`pipe-${i}`}>\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: x + i * 200,\r\n                  top: 0,\r\n                  width: 52,\r\n                  height: topHeight,\r\n                  backgroundImage: `url(${topPipeImg})`,\r\n                  backgroundPosition: \"bottom\",\r\n                  transition: \"left 220ms\",\r\n                }}\r\n              ></div>\r\n              <div id='pipe'\r\n                style={{\r\n                  position: \"absolute\",\r\n                  width: 52,\r\n                  backgroundImage: `url(${bottomPipeImg})`,\r\n                  transition: \"left 220ms\",\r\n                  top: topHeight + 100,\r\n                  left: x + i * 200,\r\n                  height: 512 - topHeight - 100,\r\n                }}\r\n              ></div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = ({ pipe }) => ({ x: pipe.x, pipes: pipe.pipes });\r\nconst mapDispatchToProps = () => ({});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pipe);\r\n","export default __webpack_public_path__ + \"static/media/fg.1aff9f5e.png\";","import React from \"react\";\r\nimport fgImg from \"../image/fg.png\";\r\n\r\nconst styleForeground = {\r\n  position: \"absolute\",\r\n  bottom: 0,\r\n  width: 288,\r\n  height: 106,\r\n  backgroundImage: `url(${fgImg})`,\r\n};\r\nconst Foreground = () => {\r\n  return <div id=\"fore-ground\" style={styleForeground}></div>;\r\n};\r\n\r\nexport default Foreground;\r\n","export default __webpack_public_path__ + \"static/media/bg.093d36bb.png\";","//game reduce nhan vao state va hanh dong\r\nconst game=(state={},action) => {\r\nswitch(action.type){\r\n    case 'START':\r\n        return {...state,status:'playing'};\r\n    case 'OVER':\r\n        console.log('game-over')\r\n        return {...state,status:'over'}\r\n    default:\r\n        return state;\r\n}\r\n}\r\nexport default game;","const initialState = {\r\n  y: 256,\r\n  numDeg: 0,\r\n};\r\n\r\nconst bird = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FLY\":\r\n      return { ...state, y: state.y - 60, numDeg: -45 };\r\n    case \"FALL\":\r\n      return { ...state, y: state.y + 30, numDeg: 20 };\r\n    case 'OVER':\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default bird;\r\n","const initialState = {\r\n  x: 300,\r\n  pipes: [],\r\n};\r\n\r\nconst pipe = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"RUN\":\r\n      return state.pipes.length ? { ...state, x: state.x - 10 } : state; //co pipe trong mang(create roi) thi ms cho pipe chay\r\n    case \"CREATE\":\r\n      const topHeight = Math.floor(Math.random() *200 ) + 40;\r\n      return { ...state, pipes: [...state.pipes, { topHeight }] };\r\n    case \"DELETE\":\r\n      // state.pipes.shift();\r\n      return { ...state, pipes: [...state.pipes] };\r\n      case 'OVER':\r\n        return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default pipe;\r\n","import { combineReducers } from \"redux\";\r\nimport game from \"./game\";\r\nimport bird from \"./bird\";\r\nimport pipe from \"./pipe\";\r\n\r\nconst rootReducer=combineReducers({game,bird,pipe});\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\"//mac dinh la index.js\r\n\r\n// const configureStore=() => {\r\n//   const store = createStore(rootReducer, applyMiddleware(thunk));\r\n//   return store;\r\n// };\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport GameDisplay from \"./GameDisplay\";\nimport { Provider } from \"react-redux\";\nimport \"../style/dist/App.css\";\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <h1>space to start</h1>\n        <Provider store={this.props.store}>\n          <GameDisplay />\n        </Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./component/App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App store={store} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}