(this["webpackJsonpflappy-bird"]=this["webpackJsonpflappy-bird"]||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r,a,i,c=n(0),o=n.n(c),s=n(9),p=n.n(s),u=n(3),l=n(4),d=n(7),b=n(6),j=n(5),f=n.p+"static/media/bird.71e31e9e.png",v=n(1),h=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.y,n=t.numDeg;return Object(v.jsx)("div",{id:"bird",style:{position:"absolute",left:120,width:37,height:26,transition:"transform 120ms,top 400ms",top:e,backgroundImage:"url(".concat(f,")"),transform:"rotate(".concat(n,"deg)")}})}}]),n}(o.a.Component),O=Object(j.b)((function(t){var e=t.bird;return{y:e.y,numDeg:e.numDeg}}),(function(){return{}}))(h),g=n.p+"static/media/pipe-top.3e4cf42d.png",y=n.p+"static/media/pipe-bottom.d354aa87.png",m=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.pipes;return Object(v.jsx)("div",{style:{position:"relative"},children:n.map((function(t,n){var r=t.topHeight;return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{position:"absolute",left:e+200*n,top:0,width:52,height:r,backgroundImage:"url(".concat(g,")"),backgroundPosition:"bottom",transition:"left 220ms"}}),Object(v.jsx)("div",{id:"pipe",style:{position:"absolute",width:52,backgroundImage:"url(".concat(y,")"),transition:"left 220ms",top:r+100,left:e+200*n,height:512-r-100}})]},"pipe-".concat(n))}))})}}]),n}(o.a.Component),x=Object(j.b)((function(t){var e=t.pipe;return{x:e.x,pipes:e.pipes}}),(function(){return{}}))(m),E=n.p+"static/media/fg.1aff9f5e.png",k={position:"absolute",bottom:0,width:288,height:106,backgroundImage:"url(".concat(E,")")},I=function(){return Object(v.jsx)("div",{id:"fore-ground",style:k})},w=n.p+"static/media/bg.093d36bb.png",R=n(8),L=n(14),D=n(2),T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START":return Object(D.a)(Object(D.a)({},t),{},{status:"playing"});case"OVER":return console.log("game-over"),Object(D.a)(Object(D.a)({},t),{},{status:"over"});default:return t}},A={y:256,numDeg:0},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FLY":return Object(D.a)(Object(D.a)({},t),{},{y:t.y-60,numDeg:-45});case"FALL":return Object(D.a)(Object(D.a)({},t),{},{y:t.y+30,numDeg:20});case"OVER":return A;default:return t}},S=n(13),V={x:300,pipes:[]},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RUN":return t.pipes.length?Object(D.a)(Object(D.a)({},t),{},{x:t.x-10}):t;case"CREATE":var n=Math.floor(200*Math.random())+40;return Object(D.a)(Object(D.a)({},t),{},{pipes:[].concat(Object(S.a)(t.pipes),[{topHeight:n}])});case"DELETE":return Object(D.a)(Object(D.a)({},t),{},{pipes:Object(S.a)(t.pipes)});case"OVER":return V;default:return t}},K=Object(R.b)({game:T,bird:C,pipe:F}),M=Object(R.c)(K,Object(R.a)(L.a)),U={position:"relative",width:288,height:512,margin:"0 auto",overflow:"hidden",backgroundImage:"url(".concat(w,")"),border:"2px solid",borderRadius:"5px"},H=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).componentDidMount=function(){"over"===t.props.status&&(clearInterval(r),clearInterval(a),clearInterval(i)),document.addEventListener("keypress",t.handleKey)},t.componentDidUpdate=function(){"over"===t.props.status&&(clearInterval(r),clearInterval(a),clearInterval(i)),document.addEventListener("keypress",t.handleKey)},t.componentWillUnmount=function(){document.removeEventListener("keypress",t.handleKey)},t.handleKey=function(e){var n=t.props,r=n.status,a=n.fly,i=n.start;" "===e.key&&(a(),"playing"!==r&&i())},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{id:"game-display",style:U,children:[Object(v.jsx)(O,{}),Object(v.jsx)(x,{}),Object(v.jsx)(I,{})]})}}]),n}(o.a.Component),J=Object(j.b)((function(t){return{status:t.game.status}}),(function(t){return{start:function(){t({type:"START"}),r=setInterval((function(){t({type:"FALL"}),t({type:"RUN"})}),200),setInterval((function(){!function(t){console.log(M.getState());var e=M.getState();console.log(e);var n=e.bird.y,r=e.pipe.pipes,a=e.pipe.x,i=r.map((function(t,e){var n=t.topHeight;return{x1:a+200*e,y1:n,x2:a+200*e,y2:n+100}})).filter((function(t){return t.x1>0&&a<288}));if(n>393&&t({type:"OVER"}),i.length){var c=i[0],o=c.x1,s=c.y1,p=c.x2,u=c.y2;console.log(n),(o<157&&120<o+52&&n<s+13||p<157&&120<o+52&&n>u-13)&&t({type:"OVER"})}}(t)}),200),a=setInterval((function(){t({type:"CREATE"})}),3e3),i=setInterval((function(){t({type:"DELETE"})}),12e3)},fly:function(){t({type:"FLY"})}}}))(H),N=(n(24),function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"space to start"}),Object(v.jsx)(j.a,{store:this.props.store,children:Object(v.jsx)(J,{})})]})}}]),n}(o.a.Component));p.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(N,{store:M})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.7b88b575.chunk.js.map